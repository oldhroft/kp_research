default: &default
  cv_params:
    n_splits: 5
    random_state: null
    shuffle: false
  gcv_params:
    scoring: f1_macro
    verbose: 2
  scoring_params:
    average: macro
  seed: 16
  pipe_params: !include common/common_nn.yaml

default_callback: &default_callback
  monitor: val_loss
  patience: 10
  restore_best_weights: true

# Variable definition for reccurent models
reccurent_setup: &reccurent_setup
  fit_params:
    epochs: 1
    validation_split: 0.1
    verbose: 2
  init_params:
    optimizer: adam
  param_grids:
    units_array:
    - dense:
      - 32
      - 16
      rnn:
      - 32
  pipe_name: SequenceDataPipe

# Models definition
perceptron:
  <<: *default
  callback_params:
    <<: *default_callback
  fit_params:
    epochs: 2
    validation_split: 0.1
    verbose: 2
  init_params:
    optimizer: adam
  param_grids:
    units_array:
    - - 16
  pipe_name: LagDataPipe

gru:
  <<: *default
  callback_params:
    <<: *default_callback
  <<: *reccurent_setup

lstm:
  <<: *default
  callback_params:
    <<: *default_callback
  <<: *reccurent_setup